# ADR 002: GSAP 时间线微调与移动端性能优化

## 背景

在项目迭代过程中，出现了两个主要问题：

1.  **移动端性能瓶颈**: 在手机端，从 `About Me` 部分过渡到 `Products` 部分时，页面出现明显卡顿。
2.  **动画时机不理想**: `HeroSection` (包含 "Hey Human") 的放大消失动画开始得太晚，用户需要滚动一段距离才能看到效果，不符合“轻微滚动即触发”的预期。

## 决策

为了解决这些问题，我们实施了以下两项关键优化：

### 1. 强制 GPU 硬件加速

通过分析，发现移动端卡顿的根本原因是浏览器在处理复杂的 CSS `filter` 和 `transform` 动画时，仅依赖 CPU 进行渲染，导致性能不足。

**解决方案**:

-   对所有参与缩放动画的版块（`HeroSection`, `AboutSection`, `ProductsSection`）的 `transform` 属性，从 `scale(2)` 更改为 `scale3d(2, 2, 1)`。
-   为 `ProductsSection` 的 GSAP 动画添加 `force3D: true` 属性。
-   为 `.glass-card` 和其他复杂动画元素（如 `.cyberpunk-glitch`）添加 `transform: translateZ(0)` 和 `will-change` 属性。

这些改动强制浏览器将这些元素的渲染任务从 CPU 转移到 GPU，极大地提升了动画的流畅度。

### 2. 精确调整 GSAP 时间线参数

"Hey Human" 动画开始太晚的问题，源于其在 GSAP 全局时间线中的**位置参数**设置得过于靠后。

**解决方案**:

-   **定位关键参数**: 识别出 `tl.to({}, position)` 中的 `position` 参数是控制动画开始时机的关键。
-   **调整参数**:
    -   将 `HeroSection` 动画的开始位置从默认值（或 `0.2`）调整为 `0.05`。这使得动画在整个滚动条的 5% 处就立即开始。
    -   将动画的 `duration` 从 `0.8` 缩短到 `0.6`，使其更快完成，为后续内容让路。

为了更直观地理解，调整后的时间线如下所示：

```
时间线进度:  0%    5%     20%        40%           60%           80%      100%
           |-----|------|----------|-------------|-------------|--------|
           Nav   Hey    About      About         Products      Products  End
           BG    Human  Appears    Disappears    Appears       Complete
```

## 结果

-   **移动端性能显著提升**: 过渡动画的卡顿问题得到解决，在低端设备上也能保持流畅。
-   **用户体验改善**: "Hey Human" 的消失动画现在更加灵敏，符合设计预期。
-   **代码可维护性**: 动画时机的控制逻辑被清晰地记录下来，便于未来进行类似的微调。

---
*该决策确保了复杂动画在所有设备上都能高性能运行，并提供了精确控制动画时序的方法。* 